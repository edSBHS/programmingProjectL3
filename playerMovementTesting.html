<!DOCTYPE html>
<html lang="">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sprite Movement</title>
</head>

<body>
    <canvas id="gameCanvas" width="400" height="400"></canvas>
    <script src="enemy2.js"></script>
    <script src="player2.js"></script>
<script>
    var canvas, canvasContext;
    
     window.onload = function(){
        canvas = document.getElementById('gameCanvas');
        canvasContext = canvas.getContext('2d');
        
            document.addEventListener('keydown', keyPressed);
            document.addEventListener('keyup', keyReleased);
        setInterval(mainLoop, 1000/50);
    }

        var enemies = [];
        var settingUp = true;
        var enemyCount = 0;
        var enemyTotal = 22;
        var eGap = 8;

        var player= [];
       

        const WIDTH = 30; 
        const HEIGHT = 30;
        var pXspeed = 4;
        var pXpos = 0;
        var pYpos = 400 - HEIGHT -4;
        var pWidth = 10;
        var pHeight = 10;
        var color = 'white';
    
    var ship = new Player(pXpos,pYpos,WIDTH,HEIGHT,'white',pXspeed,0,0);
    
    
    
    function mainLoop() {
        colorRect(0,0,canvas.width,canvas.height,"black");
       ship.drawingPlayer();
       ship.movePlayer();
         
        if(settingUp){
            setUp();
            settingUp = false;
           }
        
        if(enemies.length > 0){
            enemies.forEach(function(item,index){
             item.drawingEnemy();
                item.enemyDrop();
                item.enemyMove();
            });
        }
            
    }
    
function setUp(){
    for(i=0;i< enemyTotal;i++){
        drawMakeEnemies();
    }
    drawMakePlayer();
        
}    
        const RIGHT = 39;
        const LEFT = 37;
        var upKeyPressed = false;
        var rightKeyPressed = false;
        var downKeyPressed = false;
        var leftKeyPressed = false;
        var spaceKeyPressed = false;
    
         function keyPressed(evt) {
            if (evt.keyCode == RIGHT) {
                rightKeyPressed = true;
            }

            if (evt.keyCode == LEFT) {
                leftKeyPressed = true;
            }
        }

        function keyReleased(evt) {

            if (evt.keyCode == RIGHT) {
                rightKeyPressed = false;
            }

            if (evt.keyCode == LEFT) {
                leftKeyPressed = false;
            }

        }

    function colorRect(x,y,w,h,color) {
        canvasContext.fillStyle = color;
        canvasContext.fillRect(x,y,w,h);
    }
</script>
    </body>
</html>